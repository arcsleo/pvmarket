import React from "react";
import logo from "./logo.svg";
import "./AllCards.css";
import Wallet from "../Wallet/Wallet";

function AllCards(props: any) {
  const [cards, setcards] = React.useState(["1234 5678 8765 4321"]);
  const [tabSwitch, setTabswitch] = React.useState(true);

  const callBack = (cardData: any) => {
    if (cardData.cardnumber !== "") {
      const temp = [...cards];
      temp.push(cardData.cardnumber);
      setcards(temp);
    }
    setTabswitch(true);
  };

  const deleteFunction = (index: number) => {
    const temp = cards;
    const newTemp: React.SetStateAction<string[]> = [];
    temp.forEach((value, indexval) => {
      if (indexval !== index) {
        newTemp.push(value);
      }
    });
    setcards(newTemp);
  };

  return (
    <>
      {tabSwitch ? (
        <div className="ProfileWrapper">
          <div className="ProfileHeader">Wallet</div>
          <div className="ProfileContent">
            {cards.map((value, index) => {
              return (
                <div className="walletCard">
                  <svg
                    width="38"
                    height="14"
                    viewBox="0 0 38 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M9.78278 13.0438H6.5468L4.12021 3.51389C4.00504 3.07552 3.76048 2.68797 3.40075 2.50531C2.50301 2.04629 1.51376 1.68098 0.43457 1.49674V1.12984H5.64748C6.36694 1.12984 6.90653 1.68098 6.99646 2.32107L8.25552 9.19528L11.4899 1.12984H14.636L9.78278 13.0438ZM16.4346 13.0438H13.3785L15.895 1.12984H18.9511L16.4346 13.0438ZM22.9049 4.43033C22.9949 3.78865 23.5345 3.42175 24.164 3.42175C25.1532 3.32963 26.2309 3.51387 27.1302 3.97131L27.6698 1.40619C26.7704 1.03929 25.7812 0.855042 24.8834 0.855042C21.9173 0.855042 19.7589 2.5053 19.7589 4.79564C19.7589 6.53802 21.2877 7.45288 22.3669 8.00403C23.5345 8.55358 23.9841 8.92048 23.8942 9.47004C23.8942 10.2944 22.9949 10.6613 22.0971 10.6613C21.0179 10.6613 19.9388 10.3865 18.9511 9.92747L18.4115 12.4942C19.4907 12.9516 20.6582 13.1359 21.7374 13.1359C25.0633 13.2264 27.1302 11.5777 27.1302 9.10314C27.1302 5.98687 22.9049 5.80422 22.9049 4.43033ZM37.8258 13.0438L35.3992 1.12984H32.7928C32.2532 1.12984 31.7136 1.49674 31.5337 2.04629L27.0403 13.0438H30.1863L30.8143 11.303H34.6798L35.0395 13.0438H37.8258ZM33.2424 4.33826L34.1402 8.82842H31.6237L33.2424 4.33826Z"
                      fill="#172B85"
                    />
                  </svg>
                  <div className="walletcardNumber">
                    **** {value.split(" ")[value.split(" ").length - 1]}
                  </div>
                  {cards.length > 1 && (
                    <div
                      className="deletebutton"
                      onClick={() => deleteFunction(index)}
                    >
                      <svg
                        width="22"
                        height="24"
                        viewBox="0 0 26 28"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M24.6094 4.375H18.5938V2.73438C18.5902 2.01028 18.3009 1.31687 17.7889 0.80485C17.2769 0.292833 16.5835 0.00359358 15.8594 0H9.29688C8.57278 0.00359358 7.87937 0.292833 7.36735 0.80485C6.85533 1.31687 6.56609 2.01028 6.5625 2.73438V4.375H0.546875C0.401835 4.375 0.262735 4.43262 0.160176 4.53518C0.0576171 4.63773 0 4.77683 0 4.92188C0 5.06692 0.0576171 5.20602 0.160176 5.30857C0.262735 5.41113 0.401835 5.46875 0.546875 5.46875H2.1875V25.7031C2.1875 26.1382 2.36035 26.5555 2.66803 26.8632C2.9757 27.1709 3.393 27.3438 3.82812 27.3438H21.3281C21.7632 27.3438 22.1805 27.1709 22.4882 26.8632C22.7959 26.5555 22.9688 26.1382 22.9688 25.7031V5.46875H24.6094C24.7544 5.46875 24.8935 5.41113 24.9961 5.30857C25.0986 5.20602 25.1562 5.06692 25.1562 4.92188C25.1562 4.77683 25.0986 4.63773 24.9961 4.53518C24.8935 4.43262 24.7544 4.375 24.6094 4.375ZM7.65625 2.73438C7.65625 2.29925 7.8291 1.88195 8.13678 1.57428C8.44445 1.2666 8.86175 1.09375 9.29688 1.09375H15.8594C16.2945 1.09375 16.7118 1.2666 17.0195 1.57428C17.3271 1.88195 17.5 2.29925 17.5 2.73438V4.375H7.65625V2.73438ZM21.875 25.7031C21.875 25.8482 21.8174 25.9873 21.7148 26.0898C21.6123 26.1924 21.4732 26.25 21.3281 26.25H3.82812C3.68308 26.25 3.54399 26.1924 3.44143 26.0898C3.33887 25.9873 3.28125 25.8482 3.28125 25.7031V5.46875H21.875V25.7031ZM9.84375 11.4844V20.2344C9.84375 20.3794 9.78613 20.5185 9.68357 20.6211C9.58102 20.7236 9.44192 20.7812 9.29688 20.7812C9.15183 20.7812 9.01273 20.7236 8.91018 20.6211C8.80762 20.5185 8.75 20.3794 8.75 20.2344V11.4844C8.75 11.3393 8.80762 11.2002 8.91018 11.0977C9.01273 10.9951 9.15183 10.9375 9.29688 10.9375C9.44192 10.9375 9.58102 10.9951 9.68357 11.0977C9.78613 11.2002 9.84375 11.3393 9.84375 11.4844ZM16.4062 11.4844V20.2344C16.4062 20.3794 16.3486 20.5185 16.2461 20.6211C16.1435 20.7236 16.0044 20.7812 15.8594 20.7812C15.7143 20.7812 15.5752 20.7236 15.4727 20.6211C15.3701 20.5185 15.3125 20.3794 15.3125 20.2344V11.4844C15.3125 11.3393 15.3701 11.2002 15.4727 11.0977C15.5752 10.9951 15.7143 10.9375 15.8594 10.9375C16.0044 10.9375 16.1435 10.9951 16.2461 11.0977C16.3486 11.2002 16.4062 11.3393 16.4062 11.4844Z"
                          fill="black"
                        />
                      </svg>
                    </div>
                  )}
                </div>
              );
            })}
          </div>
          <div className="DivideLine"></div>
          <div className="AddPayment" onClick={() => setTabswitch(false)}>
            <svg
              version="1.0"
              xmlns="http://www.w3.org/2000/svg"
              width="15pt"
              height="15pt"
              viewBox="0 0 64.000000 64.000000"
              preserveAspectRatio="xMidYMid meet"
            >
              <g
                transform="translate(0.000000,64.000000) scale(0.100000,-0.100000)"
                fill="#000000"
                stroke="none"
              >
                <path
                  d="M300 621 c-5 -11 -10 -76 -10 -145 l0 -126 -128 0 c-99 0 -133 -3
-148 -15 -19 -15 -19 -15 0 -30 15 -12 49 -15 148 -15 l128 0 0 -128 c0 -99 3
-133 15 -148 15 -19 15 -19 30 0 12 15 15 49 15 148 l0 128 128 0 c99 0 133 3
148 15 19 15 19 15 0 30 -15 12 -49 15 -148 15 l-128 0 0 126 c0 118 -8 164
-30 164 -5 0 -14 -9 -20 -19z"
                />
              </g>
            </svg>
            <div className="paymentBox">Add payment method</div>
          </div>
        </div>
      ) : (
        <Wallet cancelCallback={() => setTabswitch(true)} callBack={callBack} />
      )}
    </>
  );
}

export default AllCards;
